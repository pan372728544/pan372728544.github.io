(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{280:function(s,t,a){s.exports=a.p+"assets/img/0001.89bf233c.png"},281:function(s,t,a){s.exports=a.p+"assets/img/0002.51fb30f2.png"},282:function(s,t,a){s.exports=a.p+"assets/img/0003.d0fd2d81.png"},283:function(s,t,a){s.exports=a.p+"assets/img/0004.69849204.png"},284:function(s,t,a){s.exports=a.p+"assets/img/0005.994c5331.png"},285:function(s,t,a){s.exports=a.p+"assets/img/0006.aa0047eb.png"},286:function(s,t,a){s.exports=a.p+"assets/img/0007.5d8da9bb.png"},287:function(s,t,a){s.exports=a.p+"assets/img/0008.4f1979e2.png"},288:function(s,t,a){s.exports=a.p+"assets/img/0009.fda3f6df.png"},289:function(s,t,a){s.exports=a.p+"assets/img/0010.e932110d.png"},290:function(s,t,a){s.exports=a.p+"assets/img/0011.48d9c028.png"},291:function(s,t,a){s.exports=a.p+"assets/img/0012.816eae96.png"},292:function(s,t,a){s.exports=a.p+"assets/img/0013.a21fe7f8.png"},293:function(s,t,a){s.exports=a.p+"assets/img/0014.b9fba38c.png"},294:function(s,t,a){s.exports=a.p+"assets/img/0015.55bfa95d.png"},295:function(s,t,a){s.exports=a.p+"assets/img/0016.490bfe13.png"},296:function(s,t,a){s.exports=a.p+"assets/img/0017.0f24171c.png"},297:function(s,t,a){s.exports=a.p+"assets/img/0018.58b63c78.png"},298:function(s,t,a){s.exports=a.p+"assets/img/0020.83694629.png"},410:function(s,t,a){"use strict";a.r(t);var n=[function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"mac下使用jekins自动打包ios项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mac下使用jekins自动打包ios项目","aria-hidden":"true"}},[s._v("#")]),s._v(" MAC下使用Jekins自动打包iOS项目")]),s._v(" "),n("h2",{attrs:{id:"安装jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装Jenkins")]),s._v(" "),n("p",[s._v("在平时开发中，搭建环境什么的个人建议都使用命令行，不建议使用官网dmg的安装包。使用安装包会有权限问题。")]),s._v(" "),n("p",[s._v("1.安装brew")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ruby "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("2.升级java")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("brew cask install java \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("3.安装jenkins")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\nbrew install jenkins\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("4.执行")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\njava "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jar "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Cellar")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.156")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("war "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("httpPort"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("2.156是指Jenkins的版本号,不同版本替换不同版本")])]),s._v(" "),n("p",[s._v("5.链接launchd配置文件")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\nln "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sfv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*.plist ~/Library/LaunchAgents\n")])])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("6.启动jenkins")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\n launchctl load "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Library")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("LaunchDaemons")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("plist \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("7.停止jenkins")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v(" launchctl unload "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Library")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("LaunchDaemons")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ci"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("plist \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("打开浏览器,输入 localhost:8080 就可看到Jenkins的web界面")]),s._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("安装注意：")]),s._v(" "),n("p",[s._v("若提示org.jenkins-ci.plist文件未找到,手动创建即可")]),s._v(" "),n("p",[s._v("sudo touch /Library/LaunchDaemons/org.jenkins-ci.plist")]),s._v(" "),n("p",[s._v("plist内容(具体内容根据不同设备可能需要稍作更改):")])]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("xml version"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0"')]),s._v(" encoding"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOCTYPE")]),s._v(" plist "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PUBLIC")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-//Apple//DTD PLIST 1.0//EN"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.apple.com/DTDs/PropertyList-1.0.dtd"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("plist version"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("dict"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Label")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Jenkins")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("ProgramArguments")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("java"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jar"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Cellar")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.49")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("war"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("OnDemand")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("RunAtLoad")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("UserName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dict"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("plist"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h2",{attrs:{id:"安装完成后，我们来进行实际运用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装完成后，我们来进行实际运用","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装完成后，我们来进行实际运用")]),s._v(" "),n("ol",[n("li",[s._v("进入首页")])]),s._v(" "),n("p",[s._v("在浏览器中输入：http://localhost:8080 （因为在安装时，我设置的端口是8080）\n初次打开，会需要进行插件安装\n输入密码进入：\n"),n("img",{attrs:{src:a(280),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("安装推荐插件")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(281),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[s._v("等待安装完成\n"),n("img",{attrs:{src:a(282),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("创建用户\n"),n("img",{attrs:{src:a(283),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("配置\n"),n("img",{attrs:{src:a(284),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("就绪\n"),n("img",{attrs:{src:a(285),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("使用")])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(286),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"创建任务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建任务","aria-hidden":"true"}},[s._v("#")]),s._v(" 创建任务")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("输入任意名称\n然后选择 构建一个自由风格的软件项目\n"),n("img",{attrs:{src:a(287),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("源码管理\n选择自己的项目地址，这里使用git\nRespository URL: 这里输入git项目地址\nCredentials 这里点击添加 输入git的用户名和密码，然后再选中你添加的选项")])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(288),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[s._v("构建\n这里选中执行shell")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(289),alt:""}}),s._v("\n然后按下图输入执行脚本的路径。 然后点击保存，配置就完成了。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(290),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"构建任务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#构建任务","aria-hidden":"true"}},[s._v("#")]),s._v(" 构建任务")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("点击刚才创建的任务，点击执行立即构建(或者点击任务名称，进入详情页点击构建也一样)\n"),n("img",{attrs:{src:a(291),alt:""}})])]),s._v(" "),n("li",[n("p",[s._v("左侧栏显示正在构建的进度")])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(292),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[s._v("构建的时候，会在如下图路径去通过git地址下载项目到workspace路径下。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(293),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[s._v("执行的脚本如下：")])]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\n#"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sh\n\n# 使用方法"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n# step1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 将该脚本放在工程的根目录下（跟"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcworkspace文件or "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj文件同目录）\n# step2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 根据情况修改下面的参数\n# step3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 打开终端，执行脚本。（输入sh，然后将脚本文件拉到终端，会生成文件路径，然后enter就可）\n\n# "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("项目自定义部分"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("自定义好下列参数后再执行该脚本"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" #\n\n# 是否编译工作空间 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("例"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("若是用"),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Cocopods")]),s._v("管理的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcworkspace项目"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("赋值"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("用"),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Xcode")]),s._v("默认创建的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("赋值"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nis_workspace"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),s._v("\n\n# "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcworkspace的名字，如果is_workspace为"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("，则必须填。否则可不填\nworkspace_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BuildTestWork"')]),s._v("\n\n# "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj的名字，如果is_workspace为"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("，则必须填。否则可不填\nproject_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BuildTestWork"')]),s._v("\n\n# 指定项目的scheme名称（也就是工程的target名称），必填\nscheme_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BuildTestWork"')]),s._v("\n\n# 指定要打包编译的方式 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Release")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Debug。一般用Release")]),s._v("。必填\nbuild_configuration"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Debug"')]),s._v("\n\n# method，打包的方式。方式分别为 development"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ad"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hoc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" enterprise 。必填\nmethod"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"development"')]),s._v("\n\n\n#  下面两个参数只是在手动指定"),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Pofile文件的时候用到，如果使用Xcode自动管理Profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("直接留空就好\n# "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("跟method对应的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("mobileprovision文件名，需要先双击安装"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mobileprovision文件"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("手动管理"),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Profile")]),s._v("时必填\nmobileprovision_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dev_XXXXXXX"')]),s._v("\n\n# 项目的bundleID，手动管理"),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Profile")]),s._v("时必填\nbundle_identifier"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.xxx.xxxxxx"')]),s._v("\n\n\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--------------------脚本配置参数检查--------------------"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[33;1mis_workspace=${is_workspace} "')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"workspace_name=${workspace_name}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"project_name=${project_name}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scheme_name=${scheme_name}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build_configuration=${build_configuration}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bundle_identifier=${bundle_identifier}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"method=${method}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mobileprovision_name=${mobileprovision_name} \\033[0m"')]),s._v("\n\n\n# "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("脚本的一些固定参数定义"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("无特殊情况不用修改"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" #\n\n# 获取当前脚本所在目录\nscript_dir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$( cd "')]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" dirname "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$0"')]),s._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('" && pwd  )"')]),s._v("\n# 工程根目录\nproject_dir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$script_dir/Work"')]),s._v("\n\n# 时间\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DATE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("`date "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+%Y%m%d_%H%M%S'")]),s._v("`\n# 指定输出导出文件夹路径\nexport_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$project_dir/Package/$scheme_name-$DATE"')]),s._v("\n# 指定输出归档文件路径\nexport_archive_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_path/$scheme_name.xcarchive"')]),s._v("\n# 指定输出ipa文件夹路径\nexport_ipa_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_path"')]),s._v("\n# 指定输出ipa名称\nipa_name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${scheme_name}_${DATE}"')]),s._v("\n# 指定导出ipa包需要用到的plist配置文件的路径\nexport_options_plist_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$project_dir/ExportOptions.plist"')]),s._v("\n\n\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--------------------脚本固定参数检查--------------------"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[33;1mproject_dir=${project_dir}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DATE=${DATE}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export_path=${export_path}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export_archive_path=${export_archive_path}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export_ipa_path=${export_ipa_path}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export_options_plist_path=${export_options_plist_path}"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipa_name=${ipa_name} \\033[0m"')]),s._v("\n\n# "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("自动打包部分"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("无特殊情况不用修改"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" #\n\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"------------------------------------------------------"')]),s._v("\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[32m开始构建项目  \\033[0m"')]),s._v("\n# 进入项目工程目录\ncd $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("project_dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n# pod\n export "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LANG")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTF")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pod install\n\n# 指定输出文件目录不存在则创建\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_path"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    echo $export_path\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    mkdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pv $export_path\nfi\n\n# 判断编译的项目类型是workspace还是project\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" $is_workspace "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n# 编译前清理工程\nxcodebuild clean "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("workspace $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("workspace_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcworkspace \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nxcodebuild archive "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("workspace $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("workspace_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcworkspace \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("archivePath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_archive_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n# 编译前清理工程\nxcodebuild clean "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("project $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("project_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nxcodebuild archive "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("project $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("project_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("archivePath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_archive_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nfi\n\n#  检查是否构建成功\n#  xcarchive 实际是一个文件夹不是一个文件所以使用 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d 判断\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_archive_path"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[32;1m项目构建成功 🚀 🚀 🚀  \\033[0m"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[31;1m项目构建失败 😢 😢 😢  \\033[0m"')]),s._v("\n    exit "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nfi\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"------------------------------------------------------"')]),s._v("\n\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[32m开始导出ipa文件 \\033[0m"')]),s._v("\n\n\n# 先删除export_options_plist文件\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_options_plist_path"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    #echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${export_options_plist_path}文件存在，进行删除"')]),s._v("\n    rm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f $export_options_plist_path\nfi\n# 根据参数生成export_options_plist文件\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("PlistBuddy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Add :method String ${method}"')]),s._v("  $export_options_plist_path\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("PlistBuddy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Add :provisioningProfiles:"')]),s._v("  $export_options_plist_path\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("PlistBuddy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Add :provisioningProfiles:${bundle_identifier} String ${mobileprovision_name}"')]),s._v("  $export_options_plist_path\n\n\nxcodebuild  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportArchive \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("archivePath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_archive_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportPath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_ipa_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportOptionsPlist $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_options_plist_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("allowProvisioningUpdates\n\n# 检查ipa文件是否存在\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_ipa_path/$scheme_name.ipa"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[32;1mexportArchive ipa包成功,准备进行重命名\\033[0m"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[31;1mexportArchive ipa包失败 😢 😢 😢     \\033[0m"')]),s._v("\n    exit "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nfi\n\n# 修改ipa文件名称\nmv $export_ipa_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ipa $export_ipa_path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$ipa_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ipa\n\n# 检查文件是否存在\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_ipa_path/$ipa_name.ipa"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[32;1m导出 ${ipa_name}.ipa 包成功 🎉  🎉  🎉   \\033[0m"')]),s._v("\n    open $export_path\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[31;1m导出 ${ipa_name}.ipa 包失败 😢 😢 😢     \\033[0m"')]),s._v("\n    exit "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nfi\n\n# 删除export_options_plist文件（中间文件）\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$export_options_plist_path"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n    #echo "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${export_options_plist_path}文件存在，准备删除"')]),s._v("\n    rm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f $export_options_plist_path\nfi\n\n# 输出打包总用时\necho "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\033[36;1m使用AutoPackageScript打包总用时: ${SECONDS}s \\033[0m"')]),s._v("\n\nexit "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br"),n("span",{staticClass:"line-number"},[s._v("180")]),n("br"),n("span",{staticClass:"line-number"},[s._v("181")]),n("br")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("AutoPackageScriptwork.sh 脚本的路径相对于BuildTestWork.xcworkspace文件所在在路径，所以上一步中 执行的shell路径为../AutoPackageScriptwork.sh")]),s._v(" "),n("p",[s._v("ExportOptions.plist 是shell脚本生成的。")])]),s._v(" "),n("ol",{attrs:{start:"5"}},[n("li",[s._v("打包过程的日志。\n打包过程可以在在构建历史中的列表中选中最近的打包，然后点击控制台输出，来查看打包出现的问题。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(294),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"卸载jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#卸载jenkins","aria-hidden":"true"}},[s._v("#")]),s._v(" 卸载jenkins")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\n 进入以下目录，双击运行\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Library")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Application")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Support")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Jenkins")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("Uninstall")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("command\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"命令讲解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令讲解","aria-hidden":"true"}},[s._v("#")]),s._v(" 命令讲解")]),s._v(" "),n("ol",[n("li",[s._v("clean工程")])]),s._v(" "),n("p",[s._v("以单工程项目为例(wordspace结构是相似的)，参数配置完成之后，clean下工程，用以清除缓存，保证我们的项目是纯净的。\n跟我们在Xcode中Product->Clean这个命令是一样的功能。")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\nxcodebuild clean "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("project $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("project_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("project_name就是我们之前配置的工程的名称，")]),s._v(" "),n("p",[s._v("scheme_name就是之前配置的工程的target名称")]),s._v(" "),n("p",[s._v("build_configuration为之前配置的设置，Debug或者Release")])]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("archive工程")])]),s._v(" "),n("p",[s._v("build工程，然后archive到一个文件夹里面。")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\nxcodebuild archive "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("project $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("project_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xcodeproj \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheme $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("scheme_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("configuration $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("build_configuration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n                   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("archivePath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_archive_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                   \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("其中， export_archive_path就是我们存放archive结果的文件夹。\n这条命令执行以后，会在指定的位置生成.xcarchive文件（其实这个是文件夹来的。里面会有.app包和dSYM符号文件等内容）")]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[s._v("exportArchive,从xcarchive中导出ipa包")])]),s._v(" "),n("p",[s._v("将刚才archive出来的.xcarchive文件，导出成一个ipa包。")]),s._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[s._v("\nxcodebuild  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportArchive \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("archivePath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_archive_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportPath $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_ipa_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exportOptionsPlist $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("export_options_plist_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \\\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("allowProvisioningUpdates\n            \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("export_archive_path就是刚才导出.xcarchive文件路径")]),s._v(" "),n("p",[s._v("export_ipa_path是要导出的ipa文件的文件夹路径")]),s._v(" "),n("p",[s._v("export_options_plist_path这是一个plist配置文件路径。这个plist配置文件是必须的，不加的话会报错的。经过我的测试发现，主要是需要配置method这个key。如果是手动管理的话，还需要配置")]),s._v(" "),n("p",[s._v("bundleID和mobileprovision_name。其他的key是可以不配置的，如果不配置的话，会自动根据项目里面的配置进行生成。另外，这个文件我在脚本中用PlistBuddy命令直接生成了，不需要用户自己指定文件。")]),s._v(" "),n("p",[s._v("-allowProvisioningUpdates主要目的是自动更新profile文件，在Xcode自动管理profile的时候用。")])]),s._v(" "),n("h2",{attrs:{id:"打包分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打包分支","aria-hidden":"true"}},[s._v("#")]),s._v(" 打包分支")]),s._v(" "),n("ol",[n("li",[s._v("在系统管理里面，选择插件管理。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(295),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("然后点击选插件，在右上角输入Git Parameter，找到Git Parameter后点击左下方的的直接安装")]),s._v(" "),n("li",[s._v("安装后，在任务配置里，配置如下：")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(296),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[s._v("原理管理如下：")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(297),alt:""}})]),s._v(" "),n("ol",{attrs:{start:"5"}},[n("li",[s._v("配置好之后，立即构建会变成 带参数的，可以选择自己的分支进行打包了。\n"),n("img",{attrs:{src:a(298),alt:""}})])])])}],r=a(0),e=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);e.options.__file="autoPackage.md";t.default=e.exports}}]);