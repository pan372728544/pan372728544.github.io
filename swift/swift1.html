<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Object-C - Swift基础 | Pan&#39;s Blog</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/0.styles.f637169d.css" as="style"><link rel="preload" href="/assets/js/app.908dfad3.js" as="script"><link rel="preload" href="/assets/js/60.7064c1b5.js" as="script"><link rel="prefetch" href="/assets/js/10.337b1fe3.js"><link rel="prefetch" href="/assets/js/11.fbbc3d23.js"><link rel="prefetch" href="/assets/js/12.85a2c405.js"><link rel="prefetch" href="/assets/js/13.59074305.js"><link rel="prefetch" href="/assets/js/14.966daf17.js"><link rel="prefetch" href="/assets/js/15.ac446f82.js"><link rel="prefetch" href="/assets/js/16.928714ad.js"><link rel="prefetch" href="/assets/js/17.703cf8f6.js"><link rel="prefetch" href="/assets/js/18.613035e7.js"><link rel="prefetch" href="/assets/js/19.9cadccd2.js"><link rel="prefetch" href="/assets/js/2.e9e429c4.js"><link rel="prefetch" href="/assets/js/20.8b804bb6.js"><link rel="prefetch" href="/assets/js/21.93a312f8.js"><link rel="prefetch" href="/assets/js/22.c43fa6cb.js"><link rel="prefetch" href="/assets/js/23.dd7a6de9.js"><link rel="prefetch" href="/assets/js/24.7b66814a.js"><link rel="prefetch" href="/assets/js/25.8c76c392.js"><link rel="prefetch" href="/assets/js/26.22556371.js"><link rel="prefetch" href="/assets/js/27.7cf975c4.js"><link rel="prefetch" href="/assets/js/28.2088bc31.js"><link rel="prefetch" href="/assets/js/29.b328e730.js"><link rel="prefetch" href="/assets/js/3.fc5cd66f.js"><link rel="prefetch" href="/assets/js/30.72707481.js"><link rel="prefetch" href="/assets/js/31.86032cea.js"><link rel="prefetch" href="/assets/js/32.bf03ba96.js"><link rel="prefetch" href="/assets/js/33.eb49a028.js"><link rel="prefetch" href="/assets/js/34.4a07196d.js"><link rel="prefetch" href="/assets/js/35.7a226b76.js"><link rel="prefetch" href="/assets/js/36.db5eec9a.js"><link rel="prefetch" href="/assets/js/37.cdc338c4.js"><link rel="prefetch" href="/assets/js/38.34a35d7d.js"><link rel="prefetch" href="/assets/js/39.695deec3.js"><link rel="prefetch" href="/assets/js/4.7aa51947.js"><link rel="prefetch" href="/assets/js/40.f1dc7d30.js"><link rel="prefetch" href="/assets/js/41.1d34bbf6.js"><link rel="prefetch" href="/assets/js/42.423d3ca5.js"><link rel="prefetch" href="/assets/js/43.d353af94.js"><link rel="prefetch" href="/assets/js/44.de7ee57e.js"><link rel="prefetch" href="/assets/js/45.a6e7ec4a.js"><link rel="prefetch" href="/assets/js/46.2781428a.js"><link rel="prefetch" href="/assets/js/47.12910615.js"><link rel="prefetch" href="/assets/js/48.ec325e20.js"><link rel="prefetch" href="/assets/js/49.7e6b0e34.js"><link rel="prefetch" href="/assets/js/5.34d295cb.js"><link rel="prefetch" href="/assets/js/50.686eceeb.js"><link rel="prefetch" href="/assets/js/51.813c0a41.js"><link rel="prefetch" href="/assets/js/52.ef636f45.js"><link rel="prefetch" href="/assets/js/53.4c0b4978.js"><link rel="prefetch" href="/assets/js/54.6f9c7b33.js"><link rel="prefetch" href="/assets/js/55.4fc94690.js"><link rel="prefetch" href="/assets/js/56.1999815f.js"><link rel="prefetch" href="/assets/js/57.4678e399.js"><link rel="prefetch" href="/assets/js/58.60bc5f58.js"><link rel="prefetch" href="/assets/js/59.a600a8bd.js"><link rel="prefetch" href="/assets/js/6.dccabf12.js"><link rel="prefetch" href="/assets/js/61.321797c3.js"><link rel="prefetch" href="/assets/js/62.29b63639.js"><link rel="prefetch" href="/assets/js/7.46fb0051.js"><link rel="prefetch" href="/assets/js/8.adc2b779.js"><link rel="prefetch" href="/assets/js/9.c180848b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f637169d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Pan's Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Object-C</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/oc/runtime/" class="nav-link">Runtime</a></li><li class="dropdown-item"><!----> <a href="/oc/kvo/" class="nav-link">KVO</a></li><li class="dropdown-item"><!----> <a href="/oc/runloop/" class="nav-link">RunLoop</a></li><li class="dropdown-item"><!----> <a href="/oc/other/" class="nav-link">Other</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Swift</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/swift/" class="nav-link router-link-active">Swift4.2</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">C/C++</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/c/" class="nav-link">C/C++</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Multi-Platform</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Native Group</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/h5/flutter/" class="nav-link">Flutter</a></li><li class="dropdown-subitem"><a href="/h5/swiftui/" class="nav-link">SwiftUI</a></li><li class="dropdown-subitem"><a href="/h5/reactnative/" class="nav-link">React-native</a></li><li class="dropdown-subitem"><a href="/h5/cordova/" class="nav-link">Cordova</a></li><li class="dropdown-subitem"><a href="/h5/weex/" class="nav-link">Weex</a></li></ul></li><li class="dropdown-item"><h4>Web Group</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/h5/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/h5/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/h5/js/" class="nav-link">JS</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/pan372728544" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Object-C</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/oc/runtime/" class="nav-link">Runtime</a></li><li class="dropdown-item"><!----> <a href="/oc/kvo/" class="nav-link">KVO</a></li><li class="dropdown-item"><!----> <a href="/oc/runloop/" class="nav-link">RunLoop</a></li><li class="dropdown-item"><!----> <a href="/oc/other/" class="nav-link">Other</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Swift</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/swift/" class="nav-link router-link-active">Swift4.2</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">C/C++</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/c/" class="nav-link">C/C++</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Multi-Platform</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Native Group</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/h5/flutter/" class="nav-link">Flutter</a></li><li class="dropdown-subitem"><a href="/h5/swiftui/" class="nav-link">SwiftUI</a></li><li class="dropdown-subitem"><a href="/h5/reactnative/" class="nav-link">React-native</a></li><li class="dropdown-subitem"><a href="/h5/cordova/" class="nav-link">Cordova</a></li><li class="dropdown-subitem"><a href="/h5/weex/" class="nav-link">Weex</a></li></ul></li><li class="dropdown-item"><h4>Web Group</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/h5/html/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/h5/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/h5/js/" class="nav-link">JS</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/pan372728544" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/swift/" class="sidebar-link">Object-C - Swift4.2</a></li><li><a href="/swift/swift1.html" class="active sidebar-link">Object-C - Swift基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swift/swift1.html#声明常量和变量" class="sidebar-link">声明常量和变量</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#类型注解" class="sidebar-link">类型注解</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#命名常量和变量" class="sidebar-link">命名常量和变量</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#打印常量与变量" class="sidebar-link">打印常量与变量</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#布尔值" class="sidebar-link">布尔值</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#元组" class="sidebar-link">元组</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#可选类型" class="sidebar-link">可选类型</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#闭合区间运算符" class="sidebar-link">闭合区间运算符</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#半开区间运算符" class="sidebar-link">半开区间运算符</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#初始化一个空字符串" class="sidebar-link">初始化一个空字符串</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#插入和删除" class="sidebar-link">插入和删除</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#创建一个空数组" class="sidebar-link">创建一个空数组</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#创建一个空字典" class="sidebar-link">创建一个空字典</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#for-in-循环" class="sidebar-link">For-In 循环</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#函数的定义和调用" class="sidebar-link">函数的定义和调用</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#闭包表达式" class="sidebar-link">闭包表达式</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#方法排序" class="sidebar-link">方法排序</a></li><li class="sidebar-sub-header"><a href="/swift/swift1.html#闭包表达式语法" class="sidebar-link">闭包表达式语法</a></li></ul></li><li><a href="/swift/swift2.html" class="sidebar-link">Object-C - Swift基础2</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="object-c-swift基础"><a href="#object-c-swift基础" aria-hidden="true" class="header-anchor">#</a> Object-C - Swift基础</h1> <h2 id="声明常量和变量"><a href="#声明常量和变量" aria-hidden="true" class="header-anchor">#</a> 声明常量和变量</h2> <p>常量和变量必须在使用之前声明。使用 let 关键字声明常量，使用 var 关键字声明变量。下面是一个示例，说明如何使用常量和变量来跟踪用户进行的登录尝试次数：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> maximumNumberOfLoginAttempts <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> currentLoginAttempt <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="类型注解"><a href="#类型注解" aria-hidden="true" class="header-anchor">#</a> 类型注解</h2> <p>当你声明一个常量或者变量的时候，你可以提供一个 类型注解 来明确存储的值的类型。
通过在常量或变量名称的后面放置一个冒号，并再跟一个空格，最后是要使用的类型名称。
下面的例子为 welcomeMessage 的变量提供了一个类型注解，以表明该变量可以存储 String 值。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> welcomeMessage<span class="token punctuation">:</span> <span class="token builtin">String</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="命名常量和变量"><a href="#命名常量和变量" aria-hidden="true" class="header-anchor">#</a> 命名常量和变量</h2> <p>你可以把现有变量的值改为兼容类型的另一个值，在这个示例里， friendlyWelcome 的值由 &quot;Hello&quot; 变为 &quot;Bonjour!&quot; ：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> friendlyWelcome <span class="token operator">=</span> <span class="token string">&quot;Hello!&quot;</span>
friendlyWelcome <span class="token operator">=</span> <span class="token string">&quot;Bonjour!&quot;</span>
<span class="token comment">// friendlyWelcome 现在是 &quot;Bonjour!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>和变量不同，常量的值被设定后不可更改，尝试修改则会在编译时报错：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> languageName <span class="token operator">=</span> <span class="token string">&quot;Swift&quot;</span>
languageName <span class="token operator">=</span> <span class="token string">&quot;Swift++&quot;</span>
<span class="token comment">// 编译错误: languageName 不可修改.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="打印常量与变量"><a href="#打印常量与变量" aria-hidden="true" class="header-anchor">#</a> 打印常量与变量</h2> <p>你可以通过print(_:separator:terminator:)方法来打印一个常量或变量当前的值。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;The current value of friendlyWelcome is <span class="token interpolation"><span class="token delimiter variable">\(</span>friendlyWelcome<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// Prints &quot;The current value of friendlyWelcome is Bonjour!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="布尔值"><a href="#布尔值" aria-hidden="true" class="header-anchor">#</a> 布尔值</h2> <p>Swift 有一个基础 布尔 类型 Bool. 布尔值也被称为 逻辑值, 因为它们只能是真或假。 Swift 提供两个布尔常量， true 和 false ：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> orangesAreOrange <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">let</span> turnipsAreDelicious <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="元组"><a href="#元组" aria-hidden="true" class="header-anchor">#</a> 元组</h2> <p>元组 将多个值组合在一起成为一个复合值。元组里面的值可以是任何类型，不需要是相同的类型。</p> <p>下面的例子中，(404, &quot;Not Found&quot;) 是一个描述了 HTTP 状态码 的元组。一个 HTTP 状态码是
当你请求一个网页时服务器返回的一个特殊值。如果你请求的网页不存在的话，就会返回状态码 404 Not Found 。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> http404Error <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&quot;Not Found&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// http404Error 的类型是 (Int, String), 等于 (404, &quot;Not Found&quot;)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="可选类型"><a href="#可选类型" aria-hidden="true" class="header-anchor">#</a> 可选类型</h2> <p>使用 可选类型 来处理值可能缺省的情况。一个可选类型代表了两种可能：要么 有 值，然后你就可以通过解包来获取值；要么 没有 值。<br>
如果你定义了一个可选变量但没有赋值，变量将自动设置为 nil ：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> surveyAnswer<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span>
<span class="token comment">// surveyAnswer 被自动设置为 nil</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="闭合区间运算符"><a href="#闭合区间运算符" aria-hidden="true" class="header-anchor">#</a> 闭合区间运算符</h2> <p>闭合区间运算符 (a...b) 表示从 a 到 b 的区间，并且包含 a 和 b。a 一定不能大于 b。</p> <p>当你想遍历一个区间中的值加以利用时，那么闭合区间运算符就在合适不过了，比如在用 for-in 循环的时候：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">5</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">\(</span>index<span class="token delimiter variable">)</span></span> times 5 is <span class="token interpolation"><span class="token delimiter variable">\(</span>index <span class="token operator">*</span> <span class="token number">5</span><span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1 times 5 is 5</span>
<span class="token comment">// 2 times 5 is 10</span>
<span class="token comment">// 3 times 5 is 15</span>
<span class="token comment">// 4 times 5 is 20</span>
<span class="token comment">// 5 times 5 is 25</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="半开区间运算符"><a href="#半开区间运算符" aria-hidden="true" class="header-anchor">#</a> 半开区间运算符</h2> <p>半开区间运算符（a..&lt;b）定义了一个从 a 到 b 但不包括 b 的区间。之所以称之为半开，是因为该区间只包含第一个值，而不包含最后一个值。与闭区间运算符一样，a 绝不可以大于 b。如果 a 等于 b 的话，就表示该区间为空。</p> <p>当你作用于一个索引从 0 开始的列表（比如数组）时，如果你想要从 0 开始，一直数到（但不过包括）列表的长度，半开区间就显得非常有用了:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Anna&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alex&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Brian&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token builtin">count</span> <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token builtin">count</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token builtin">count</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Person <span class="token interpolation"><span class="token delimiter variable">\(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token delimiter variable">)</span></span> is called <span class="token interpolation"><span class="token delimiter variable">\(</span>names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Person 1 is called Anna</span>
<span class="token comment">// Person 2 is called Alex</span>
<span class="token comment">// Person 3 is called Brian</span>
<span class="token comment">// Person 4 is called Jack</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="初始化一个空字符串"><a href="#初始化一个空字符串" aria-hidden="true" class="header-anchor">#</a> 初始化一个空字符串</h2> <p>创建一个空 String 有两种方式，给一个变量赋值一个空字符串或者使用下面的语法初始化一个 String 实例对象：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> emptyString <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>               <span class="token comment">// 空字符串</span>
<span class="token keyword">var</span> anotherEmptyString <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 初始化语法</span>
<span class="token comment">//这是两个空字符串，他们等价</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以通过检查 String 的布尔类型的属性 isEmpty 来判断该字符串的值是否为空：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">if</span> emptyString<span class="token punctuation">.</span><span class="token builtin">isEmpty</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Nothing to see here&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 打印 &quot;Nothing to see here&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="插入和删除"><a href="#插入和删除" aria-hidden="true" class="header-anchor">#</a> 插入和删除</h2> <p>在一个字符串指定位置插入单个字符，使用 insert(:at:) 方法，而要插入另一个字符串的内容时，使用 insert(contentsOf:at:) 方法。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>
<span class="token keyword">var</span> welcome <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
welcome<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&quot;!&quot;</span><span class="token punctuation">,</span> at<span class="token punctuation">:</span> welcome<span class="token punctuation">.</span>endIndex<span class="token punctuation">)</span>
<span class="token comment">// welcome 现在等于 &quot;hello!&quot;</span>

welcome<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>contentsOf<span class="token punctuation">:</span> <span class="token string">&quot; there&quot;</span><span class="token punctuation">,</span> at<span class="token punctuation">:</span> welcome<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>before<span class="token punctuation">:</span> welcome<span class="token punctuation">.</span>endIndex<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// welcome 现在等于 &quot;hello there!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>删除一个字符串指定位置的单个字符，用 remove(at:) 方法，而要删除指定范围的子字符串时，用 removeSubrange：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>welcome<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> welcome<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>before<span class="token punctuation">:</span> welcome<span class="token punctuation">.</span>endIndex<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// welcome 现在等于 &quot;hello there&quot;</span>

<span class="token keyword">let</span> range <span class="token operator">=</span> welcome<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>welcome<span class="token punctuation">.</span>endIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>welcome<span class="token punctuation">.</span>endIndex
welcome<span class="token punctuation">.</span><span class="token function">removeSubrange</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span>
<span class="token comment">// welcome 现在等于 &quot;hello&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="创建一个空数组"><a href="#创建一个空数组" aria-hidden="true" class="header-anchor">#</a> 创建一个空数组</h2> <p>我们可以使用构造语法来创建一个由特定数据类型构成的空数组：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> someInts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;someInts is of type [Int] with <span class="token interpolation"><span class="token delimiter variable">\(</span>someInts<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span> items.&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 打印 &quot;someInts is of type [Int] with 0 items.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="创建一个空字典"><a href="#创建一个空字典" aria-hidden="true" class="header-anchor">#</a> 创建一个空字典</h2> <p>我们可以像数组一样使用构造语法创建一个拥有确定类型的空字典：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> namesOfIntegers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// namesOfIntegers 是一个空的 [Int: String] 字典</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="for-in-循环"><a href="#for-in-循环" aria-hidden="true" class="header-anchor">#</a> For-In 循环</h2> <p>可以使用 for-in 循环来遍历序列中的所有元素，例如数组中的所有元素，数字的范围，或者字符串的字符。</p> <p>下面是使用 for-in 循环遍历数组的例子：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Anna&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alex&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Brian&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> name <span class="token keyword">in</span> names <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span>!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Hello, Anna!</span>
<span class="token comment">// Hello, Alex!</span>
<span class="token comment">// Hello, Brian!</span>
<span class="token comment">// Hello, Jack!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="函数的定义和调用"><a href="#函数的定义和调用" aria-hidden="true" class="header-anchor">#</a> 函数的定义和调用</h2> <p>在定义一个函数时，你可以可选地提供一个或多个输入值作为参数。当函数执行完成时，你也能可选地提供一个值作为返回值。</p> <p>每一个函数的 函数名 描述了这个这个函数需要做的事情。你可以通过这个函数名去调用它并为它提供符合参数类型的参数值。 函数的实参值必须按形参的参数列表顺序依次传入。</p> <p>下面我们定义一个 greet(person:) 方法 , 它表示向一个人打招呼， 它接受一个 String 类型的值做为输入并返回一个 String 类型的值 。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function">greet</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> person <span class="token operator">+</span> <span class="token string">&quot;!&quot;</span>
    <span class="token keyword">return</span> greeting
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="闭包表达式"><a href="#闭包表达式" aria-hidden="true" class="header-anchor">#</a> 闭包表达式</h2> <p>嵌套函数 是一个在大功能中进行命名和定义自包含代码块的便捷方式。但是，有的时候它在写一些没有完整声明和命名的类似函数结构的更短版本时很有用。当你处理一些将函数作为它的一个或多个参数的函数时这种方式尤其有用。</p> <p>闭包表达式 是一种用简短、集中的语法构建内联闭包的方式。闭包表达式提供了几种语法优化的方式，使其能够写出简短的闭包而又不失去闭包函数的可读性。下面的闭包表达式示例，通过在几次迭代中不断改善 sorted(by:) 方法的方式来说明这些优化，每一次迭代都用更简洁的方式描述了相同的功能。</p> <h2 id="方法排序"><a href="#方法排序" aria-hidden="true" class="header-anchor">#</a> 方法排序</h2> <p>Swift的基础库提供了一个名字叫做 sorted(by:) API，它通过你编写的一个闭包来进行对数组进行排序。 当完成所有排序代码,  sorted(by:) 方法会返回一个与旧数组相同规格和相同类型的新数组, 并且每个元素都会在正确的位置。 最开始的数组也不会通过 sorted(by:) 被修改。</p> <p>下面的闭包示例使用了 sorted(by:) 方法进行了对于 String 类型进行反向排序。这是最开始将要被排序的数组：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alex&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ewa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Barry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Daniella&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>sorted(by:) 方法接受一个闭包表达式，闭包表达式接受两个相同类型的数组元素，并且返回 Bool 布尔值来告诉是否第一个值应该在第二个值的前面还是后面。如果这个第一个值应该在第二个值 前面 则返回 true, 反之返回 false。</p> <p>这个例子是对 String 类型的数组进行排序，因此这个闭包需要是  (String, String) -&gt; Bool 类型的函数。</p> <p>提供该排序闭包的一种方法是写正确类型的函数，并且作为参数传入 sorted(by:) 方法中。 如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function">backward</span><span class="token punctuation">(</span><span class="token number">_</span> s1<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token number">_</span> s2<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s1 <span class="token operator">&gt;</span> s2
<span class="token punctuation">}</span>
<span class="token keyword">var</span> reversedNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> backward<span class="token punctuation">)</span>
<span class="token comment">// reversedNames 会等于 [&quot;Ewa&quot;, &quot;Daniella&quot;, &quot;Chris&quot;, &quot;Barry&quot;, &quot;Alex&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果第一个字符串「s1」大与第二个字符串「s2」，backward(<em>:</em>: ) 函数将返回 true ，指示 s1 在这个排序数组中位置应该在 s2 的前面。对于字符串来说，“大于”的意思就是“在字母表中出现较后”。这意思是说字母 &quot;B&quot; 是大于字母 &quot;A&quot; 的，也就是说字符串 &quot;Tom&quot; 是大于 &quot;Tim&quot; 的。这是一个反向排序的例子  &quot;Barry&quot; 将出现在 &quot;Alex&quot; 前面，依此类推。</p> <p>然而，使用单一表达式的函数「a&gt;b」是一种相当冗长的方式。在本例中最好写法是使用闭包表达式内联的方式编写一个排序闭包。</p> <h2 id="闭包表达式语法"><a href="#闭包表达式语法" aria-hidden="true" class="header-anchor">#</a> 闭包表达式语法</h2> <p>闭包表达式语法基本组成如下:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token punctuation">{</span> <span class="token punctuation">(</span>parameters<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">return</span> type <span class="token keyword">in</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>parameters 在闭包表达式中当作入参，但它们没有默认值。如果你参数类型为入参，则可以在闭包中使用可变类型的方法。元组也可以当做参数和返回值。</p> <p>下面的例子展示了上面  backward(_ :_: ) 函数的闭包表达式版本：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>reversedNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>s1<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> s2<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token keyword">in</span>
    <span class="token keyword">return</span> s1 <span class="token operator">&gt;</span> s2
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意这个内联闭包与  backward(<em>:</em>: ) 函数的入参和返回值是相同的。在这两种情况下，它被写成  (s1: String, s2: String) -&gt; Bool 。然而，对于内联闭包表达式，参数和返回值被写在花括号‘内部’，而不是外部。</p> <p>闭包表达式主体部分开始于关键字 in 。这个关键字也代表这个闭包的入参和返回值已经声明结束，主体部分将要开始。</p> <p>因为上面闭包表达式的主体部分比较短，甚至可以写成一行。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>reversedNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>s1<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> s2<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token keyword">in</span> <span class="token keyword">return</span> s1 <span class="token operator">&gt;</span> s2 <span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这也说明了 sorted(by:) 方法总体调用保持不变。一对括号仍然包含该方法的入参。然而，现在参数却是一个内联闭包了。</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">1/3/2019, 4:48:10 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/swift/" class="prev router-link-active">
          Object-C - Swift4.2
        </a></span> <span class="next"><a href="/swift/swift2.html">
          Object-C - Swift基础2
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.908dfad3.js" defer></script><script src="/assets/js/60.7064c1b5.js" defer></script>
  </body>
</html>
